# 📱 PWA 版本使用指南

## 🎉 PWA 已经准备好了！

PWA（Progressive Web App）是一种可以像真正的 APP 一样使用的网页应用。

## ✨ PWA 的优势

✅ **无需下载安装包** - 直接在浏览器中使用
✅ **添加到主屏幕** - 像原生 APP 一样启动
✅ **离线可用** - 没有网络也能使用
✅ **自动更新** - 无需手动升级
✅ **占用空间小** - 比 APK 小很多
✅ **跨平台** - Android、iOS 都能用

---

## 📲 使用方法（3步搞定）

### 方法一：本地测试（电脑上）

1. **启动本地服务器**
   ```bash
   cd pwa
   python -m http.server 8080
   ```
   或使用 Node.js:
   ```bash
   npx http-server -p 8080
   ```

2. **打开浏览器**
   访问: http://localhost:8080

3. **测试功能**
   - 所有功能都和 test.html 一样
   - 可以点击"安装"按钮测试安装提示

### 方法二：手机上使用（最终方案）

要在手机上使用，需要把 PWA 文件放到网上。有两个简单的方法：

#### 🌐 选项A：使用 GitHub Pages（免费，推荐）

1. **上传到 GitHub**
   ```bash
   # 在 pwa 目录中
   git init
   git add .
   git commit -m "PWA 应用"
   # 创建 GitHub 仓库并上传
   ```

2. **启用 GitHub Pages**
   - 在仓库设置中启用 Pages
   - 选择主分支
   - 等待几分钟

3. **获取网址**
   - 网址格式: `https://你的用户名.github.io/仓库名/`
   - 用手机浏览器打开这个网址

#### 🚀 选项B：使用 Netlify（免费，更简单）

1. **访问** https://www.netlify.com/
2. **拖拽 pwa 文件夹** 到网页上
3. **自动部署完成** - 立即获得网址
4. **用手机打开网址**

#### ☁️ 选项C：使用 Vercel（免费）

1. **访问** https://vercel.com/
2. **导入项目**
3. **自动部署** - 获得网址
4. **手机访问**

---

## 📱 在手机上安装（添加到主屏幕）

### Android 手机（Chrome）

1. 用 Chrome 打开你的 PWA 网址
2. 会自动弹出**"安装"**提示横幅
3. 点击**"安装"**按钮
4. 或者点击浏览器菜单 ⋮ → **"添加到主屏幕"**
5. 完成！桌面上会出现应用图标

### iPhone（Safari）

1. 用 Safari 打开你的 PWA 网址
2. 点击底部的**分享按钮** 📤
3. 向下滚动找到**"添加到主屏幕"**
4. 点击**"添加"**
5. 完成！主屏幕会出现应用图标

---

## 🎯 最快速的演示方法

如果你想立即在手机上试用，我推荐：

1. **使用 Netlify Drop**
   - 访问 https://app.netlify.com/drop
   - 把 `pwa` 文件夹拖进去
   - 立即获得一个网址
   - 用手机打开，就能用了！

2. **或使用在线编辑器**
   - 访问 https://codesandbox.io/
   - 创建新项目
   - 上传 pwa 文件
   - 获得预览网址

---

## 📂 PWA 文件清单

```
pwa/
├── index.html           # 主页面（包含所有功能）
├── manifest.json        # PWA 配置文件
├── service-worker.js    # 离线支持和缓存
├── icon-192.png         # 应用图标 192x192
└── icon-512.png         # 应用图标 512x512
```

---

## 🔧 本地测试服务器（多种方式）

### Python（推荐）
```bash
# Python 3
cd pwa
python -m http.server 8080

# Python 2
python -m SimpleHTTPServer 8080
```

### Node.js
```bash
# 使用 http-server
npx http-server pwa -p 8080

# 使用 serve
npx serve pwa -p 8080
```

### PHP
```bash
cd pwa
php -S localhost:8080
```

### VS Code 扩展
安装 "Live Server" 扩展，右键点击 index.html → "Open with Live Server"

---

## ✅ 功能检查清单

安装后检查这些功能：

- [ ] 打卡功能正常
- [ ] 统计数据正确
- [ ] 进度环显示
- [ ] 记录列表完整
- [ ] 清空功能可用
- [ ] 离线时也能使用
- [ ] 数据保存在本地
- [ ] 振动反馈（手机上）
- [ ] 全屏显示（像真APP）

---

## 💡 使用技巧

### 离线使用
- 第一次访问后，PWA 会缓存所有文件
- 之后即使没网络也能正常使用
- 数据保存在浏览器本地存储

### 更新应用
- 当你更新文件后，用户刷新页面即可获得更新
- Service Worker 会自动检测并下载新版本

### 卸载应用
- Android: 长按图标 → 卸载
- iOS: 长按图标 → 删除 App

---

## 🐛 常见问题

### Q: 为什么没有安装提示？
A: 需要通过 HTTPS 访问（localhost 除外）。使用上面的在线托管服务都支持 HTTPS。

### Q: 离线能用吗？
A: 第一次访问后就能离线使用。所有功能都保留。

### Q: 数据会丢失吗？
A: 不会。数据保存在浏览器本地存储，除非清除浏览器数据。

### Q: 图标可以自定义吗？
A: 可以！替换 icon-192.png 和 icon-512.png 即可。

### Q: 能在 iPhone 上用吗？
A: 可以！虽然不能自动安装，但可以手动添加到主屏幕。

---

## 🎨 自定义图标

### 简单方法
使用在线工具生成图标：
- https://www.pwabuilder.com/imageGenerator
- https://favicon.io/

上传你的图标图片，自动生成所需尺寸。

### 手动制作
准备两个 PNG 图片：
- `icon-192.png` (192x192)
- `icon-512.png` (512x512)

替换 pwa 文件夹中的图标即可。

---

## 📊 与 APK 对比

| 特性 | PWA | APK |
|------|-----|-----|
| 安装方式 | 浏览器添加 | 下载安装包 |
| 文件大小 | 很小（几KB） | 较大（几MB） |
| 更新方式 | 自动更新 | 手动下载 |
| 跨平台 | ✅ 全平台 | ❌ 仅Android |
| 开发难度 | 简单 | 需要SDK |
| 离线使用 | ✅ 支持 | ✅ 支持 |
| 应用商店 | 不需要 | 需要审核 |

---

## 🚀 快速开始

**最快 5 分钟搞定：**

1. 打开 https://app.netlify.com/drop
2. 把 `pwa` 文件夹拖进去
3. 获得网址（例如: random-name-123.netlify.app）
4. 手机打开这个网址
5. 点击"安装"或"添加到主屏幕"
6. 完成！

---

## 📝 总结

PWA 是一个**非常适合个人使用**的方案：
- ✅ 不需要复杂的开发环境
- ✅ 不需要应用商店审核
- ✅ 可以立即使用
- ✅ 免费托管
- ✅ 自动更新

**建议：**
- 个人使用 → PWA（推荐）
- 正式发布 → APK + 应用商店

---

**现在就试试吧！** 💧✨

如有问题，查看文档或联系开发者。
