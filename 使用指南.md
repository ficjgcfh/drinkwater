# 喝水打卡应用 - 完整使用指南

## 📱 应用功能

### 核心功能
- ✅ **一键打卡**: 点击按钮记录喝水时间
- 📊 **统计展示**:
  - 今日打卡次数
  - 总计打卡次数
  - 进度环显示（默认目标8次/天）
- 📝 **记录列表**: 查看今日所有打卡记录
- 🗑️ **清空功能**: 可清除所有历史记录
- 💾 **本地存储**: 数据保存在设备本地
- 📳 **振动反馈**: 打卡时设备振动提示
- 🎉 **Toast提示**: 操作成功后显示提示信息

### 界面特色
- 🎨 渐变色设计
- 🌈 动画效果
- 📱 适配移动设备
- 🎯 进度可视化

## 🚀 快速开始

### 方法一：浏览器测试

1. 打开项目目录中的 `test.html` 文件
2. 在浏览器中直接打开即可测试所有功能
3. 数据保存在浏览器的 localStorage 中

### 方法二：本地构建 APK

#### 环境准备

1. **安装 Node.js**
   - 访问 https://nodejs.org/
   - 下载并安装 LTS 版本

2. **安装 Cordova**
   ```bash
   npm install -g cordova
   ```

3. **安装 Android Studio**
   - 访问 https://developer.android.com/studio
   - 下载并安装 Android Studio
   - 安装时确保选择 Android SDK

4. **配置环境变量**

   Windows 系统：
   ```
   ANDROID_HOME=C:\Users\你的用户名\AppData\Local\Android\Sdk
   JAVA_HOME=C:\Program Files\Android\Android Studio\jbr

   Path 添加：
   %ANDROID_HOME%\platform-tools
   %ANDROID_HOME%\tools
   %ANDROID_HOME%\cmdline-tools\latest\bin
   ```

   macOS/Linux 系统：
   ```bash
   export ANDROID_HOME=$HOME/Library/Android/sdk
   export PATH=$PATH:$ANDROID_HOME/platform-tools
   export PATH=$PATH:$ANDROID_HOME/tools
   export PATH=$PATH:$ANDROID_HOME/cmdline-tools/latest/bin
   ```

#### 构建步骤

1. **进入项目目录**
   ```bash
   cd drinkwater
   ```

2. **检查环境**
   ```bash
   cordova requirements
   ```
   确保所有项目都显示为 "installed"

3. **使用构建脚本**
   ```bash
   ./build.sh
   ```
   或手动构建：
   ```bash
   # 调试版
   cordova build android

   # 发布版
   cordova build android --release
   ```

4. **获取 APK**
   - 调试版：`platforms/android/app/build/outputs/apk/debug/app-debug.apk`
   - 发布版：`platforms/android/app/build/outputs/apk/release/app-release-unsigned.apk`

#### 安装到设备

**方法一：USB 连接**
1. 在 Android 设备上启用"开发者选项"和"USB 调试"
2. 用 USB 连接设备到电脑
3. 运行命令：
   ```bash
   cordova run android
   ```

**方法二：直接安装 APK**
1. 将 APK 文件传输到 Android 设备
2. 在设备上找到 APK 文件并点击安装
3. 允许"未知来源"安装（如需要）

### 方法三：云端构建（推荐新手）

如果本地环境配置困难，可以使用在线构建服务：

1. **PhoneGap Build** (https://build.phonegap.com/)
2. **App Center** (https://appcenter.ms/)
3. **Ionic Appflow** (https://ionicframework.com/appflow)

## 📖 使用说明

### 基本操作

1. **打卡喝水**
   - 点击中间的"打卡喝水"按钮
   - 设备会振动反馈
   - 显示成功提示
   - 记录会出现在列表顶部

2. **查看统计**
   - 顶部显示今日和总计打卡次数
   - 进度环显示完成度（默认目标 8 次/天）
   - 达到目标时会有特殊提示

3. **查看记录**
   - 底部列表显示今日所有记录
   - 每条记录显示时间和序号
   - 最新记录在最上方

4. **清空记录**
   - 点击右上角"清空记录"按钮
   - 确认后清除所有历史数据
   - 操作不可恢复，请谨慎使用

### 数据存储

- 所有数据保存在设备的 localStorage 中
- 卸载应用会清除所有数据
- 不需要网络连接
- 不会上传到服务器

## 🔧 自定义配置

### 修改每日目标

编辑 `www/js/index.js` 文件：

```javascript
const DAILY_GOAL = 8;  // 改成你想要的目标次数
```

### 修改应用名称

编辑 `config.xml` 文件：

```xml
<name>喝水打卡</name>  <!-- 改成你想要的名称 -->
```

### 修改主题颜色

编辑 `www/css/index.css` 文件，修改以下颜色值：

```css
/* 主背景渐变 */
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

/* 按钮渐变 */
background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);

/* 主题色 */
color: #667eea;
```

## 🐛 常见问题

### Q: 构建时提示 ANDROID_HOME 未找到？
A: 需要正确配置 Android SDK 路径，参考上面的环境变量配置。

### Q: 构建成功但无法安装 APK？
A:
- 检查设备是否允许"未知来源"安装
- 发布版 APK 需要签名，建议使用调试版测试

### Q: 数据丢失了？
A:
- 清除浏览器缓存会丢失数据
- 卸载应用会清除数据
- 建议定期备份重要数据

### Q: 在浏览器测试与实际设备有什么区别？
A:
- 浏览器测试没有振动反馈
- 浏览器测试可能没有应用图标
- 其他功能完全一致

### Q: 如何添加更多功能？
A:
- 修改 `www/index.html` 添加界面元素
- 修改 `www/js/index.js` 添加逻辑
- 修改 `www/css/index.css` 调整样式

## 📊 项目结构

```
drinkwater/
├── www/                    # Web 资源目录
│   ├── index.html         # 主页面
│   ├── css/
│   │   └── index.css      # 样式文件
│   ├── js/
│   │   └── index.js       # 主要逻辑
│   └── img/               # 图片资源
├── platforms/             # 平台代码（自动生成）
│   └── android/          # Android 平台
├── config.xml            # Cordova 配置
├── package.json          # 项目依赖
├── build.sh              # 构建脚本
├── test.html             # 浏览器测试文件
└── README_APP.md         # 应用说明文档
```

## 🎯 开发建议

### 测试流程
1. 先在 `test.html` 中快速测试功能
2. 确认无误后更新到 `www/` 目录
3. 使用 `cordova serve` 进行本地预览
4. 最后构建 APK 在真机测试

### 调试技巧
1. 使用 Chrome DevTools 调试 WebView
2. 查看 `adb logcat` 获取日志
3. 在代码中添加 `console.log()` 输出调试信息

### 性能优化
1. 大量记录时考虑分页显示
2. 可以添加数据导出功能
3. 定期清理旧数据

## 📝 更新日志

### v1.0.0 (当前版本)
- ✅ 基础打卡功能
- ✅ 统计展示
- ✅ 记录列表
- ✅ 进度环显示
- ✅ Toast 提示
- ✅ 清空功能
- ✅ 振动反馈

### 计划中的功能
- 📊 历史数据图表
- ⏰ 定时提醒
- 🎨 主题切换
- ☁️ 数据同步
- 📤 数据导出

## 📄 许可证

MIT License - 可自由使用和修改

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📧 联系方式

如有问题，请通过 GitHub Issues 反馈。
