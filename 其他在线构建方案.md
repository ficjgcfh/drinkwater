# ğŸš€ æ›´å¤šåœ¨çº¿æ„å»º APK æ–¹æ¡ˆ

ç”±äº Monaca å¯èƒ½æœ‰åœ°åŒºé™åˆ¶æˆ–æ³¨å†Œé—®é¢˜ï¼Œè¿™é‡Œæä¾›æ›´å¤šå¯é çš„æ›¿ä»£æ–¹æ¡ˆã€‚

---

## ğŸ† æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨ Capacitor + Ionic Appflowï¼ˆæ¨èï¼‰

### ä¼˜åŠ¿ï¼š
- âœ… å›½é™…åŒ–æœåŠ¡ï¼Œç¨³å®šå¯é 
- âœ… æœ‰å…è´¹é¢åº¦
- âœ… æ„å»ºé€Ÿåº¦å¿«
- âœ… æ”¯æŒæŒç»­é›†æˆ

### æ­¥éª¤ï¼š

1. **è®¿é—® Ionic Appflow**
   ```
   https://ionic.io/appflow
   ```

2. **æ³¨å†Œè´¦å·**
   - ç‚¹å‡» "Get Started"
   - ä½¿ç”¨ GitHub è´¦å·ç™»å½•ï¼ˆæ¨èï¼‰
   - æˆ–é‚®ç®±æ³¨å†Œ

3. **åˆ›å»ºåº”ç”¨**
   - New App
   - Connect to GitHubï¼ˆæ¨èï¼‰æˆ–ä¸Šä¼ ä»£ç 

4. **é…ç½®æ„å»º**
   - é€‰æ‹© Android å¹³å°
   - è®¾ç½®æ„å»ºç±»å‹ä¸º Debug

5. **å¯åŠ¨æ„å»º**
   - ç‚¹å‡» "Build"
   - ç­‰å¾…å®Œæˆï¼ˆ5-10åˆ†é’Ÿï¼‰

6. **ä¸‹è½½ APK**
   - æ„å»ºå®Œæˆåä¸‹è½½

---

## ğŸ¥ˆ æ–¹æ¡ˆäºŒï¼šä½¿ç”¨ GitHub Actionsï¼ˆå®Œå…¨å…è´¹ï¼‰

### ä¼˜åŠ¿ï¼š
- âœ… å®Œå…¨å…è´¹
- âœ… è‡ªåŠ¨åŒ–æ„å»º
- âœ… æ— éœ€ç¬¬ä¸‰æ–¹æœåŠ¡
- âœ… æºä»£ç æ‰˜ç®¡åœ¨è‡ªå·±çš„ä»“åº“

### æ­¥éª¤ï¼š

#### 1. ä¸Šä¼ é¡¹ç›®åˆ° GitHub

```bash
cd /workspaces/RUthirsty-cordova/drinkwater

# åˆå§‹åŒ– Gitï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
git init

# æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add www config.xml package.json

# æäº¤
git commit -m "å–æ°´æ‰“å¡åº”ç”¨"

# åœ¨ GitHub åˆ›å»ºæ–°ä»“åº“å
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/drinkwater.git
git push -u origin main
```

#### 2. åˆ›å»º GitHub Actions å·¥ä½œæµ

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.github/workflows/android.yml`ï¼š

```yaml
name: Build Android APK

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: æ£€å‡ºä»£ç 
      uses: actions/checkout@v3

    - name: è®¾ç½® Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'

    - name: è®¾ç½® Java
      uses: actions/setup-java@v3
      with:
        distribution: 'temurin'
        java-version: '11'

    - name: å®‰è£… Cordova
      run: npm install -g cordova

    - name: å®‰è£…ä¾èµ–
      run: npm install

    - name: æ·»åŠ  Android å¹³å°
      run: cordova platform add android

    - name: æ„å»º APK
      run: cordova build android --debug

    - name: ä¸Šä¼  APK
      uses: actions/upload-artifact@v3
      with:
        name: app-debug
        path: platforms/android/app/build/outputs/apk/debug/app-debug.apk
```

#### 3. è§¦å‘æ„å»º

- æ¨é€ä»£ç åˆ° GitHub
- è®¿é—®ä»“åº“çš„ "Actions" æ ‡ç­¾
- æŸ¥çœ‹æ„å»ºè¿›åº¦
- ä¸‹è½½ç”Ÿæˆçš„ APK

---

## ğŸ¥‰ æ–¹æ¡ˆä¸‰ï¼šä½¿ç”¨ Netlify + æ„å»ºè„šæœ¬

è™½ç„¶ Netlify ä¸»è¦ç”¨äº Web æ‰˜ç®¡ï¼Œä½†å¯ä»¥é…åˆä½¿ç”¨ã€‚

### æ­¥éª¤ï¼š

1. **å‡†å¤‡ Dockerfile**

åˆ›å»º `Dockerfile`:

```dockerfile
FROM node:18

RUN apt-get update && \
    apt-get install -y openjdk-11-jdk && \
    apt-get clean

RUN npm install -g cordova

WORKDIR /app
COPY . .

RUN cordova platform add android
RUN cordova build android

CMD ["cp", "platforms/android/app/build/outputs/apk/debug/app-debug.apk", "/output/"]
```

2. **æœ¬åœ°ä½¿ç”¨ Docker æ„å»º**

```bash
docker build -t drinkwater-build .
docker run -v $(pwd)/output:/output drinkwater-build
```

---

## ğŸ¯ æ–¹æ¡ˆå››ï¼šä½¿ç”¨åœ¨çº¿ IDE æ„å»º

### Gitpodï¼ˆæ¨èï¼‰

1. **è®¿é—® Gitpod**
   ```
   https://gitpod.io/
   ```

2. **å¯¼å…¥é¡¹ç›®**
   - è¿æ¥ GitHub ä»“åº“
   - æˆ–ä¸Šä¼ ä»£ç 

3. **å®‰è£…ç¯å¢ƒ**
   ```bash
   npm install -g cordova
   sudo apt-get install -y openjdk-11-jdk
   ```

4. **é…ç½® Android SDK**
   ```bash
   # ä¸‹è½½ Android SDK
   wget https://dl.google.com/android/repository/commandlinetools-linux-9477386_latest.zip
   unzip commandlinetools-linux-9477386_latest.zip
   mkdir -p $HOME/android-sdk/cmdline-tools
   mv cmdline-tools $HOME/android-sdk/cmdline-tools/latest

   # è®¾ç½®ç¯å¢ƒå˜é‡
   export ANDROID_HOME=$HOME/android-sdk
   export PATH=$PATH:$ANDROID_HOME/cmdline-tools/latest/bin

   # å®‰è£…å¿…éœ€ç»„ä»¶
   sdkmanager "platform-tools" "platforms;android-30" "build-tools;30.0.3"
   ```

5. **æ„å»º APK**
   ```bash
   cordova platform add android
   cordova build android
   ```

6. **ä¸‹è½½ APK**
   - ä»å·¥ä½œåŒºä¸‹è½½ç”Ÿæˆçš„ APK

---

## ğŸŒŸ æ–¹æ¡ˆäº”ï¼šä½¿ç”¨ CodeSandbox

### æ­¥éª¤ï¼š

1. **è®¿é—® CodeSandbox**
   ```
   https://codesandbox.io/
   ```

2. **åˆ›å»ºé¡¹ç›®**
   - Import from GitHub
   - æˆ–ä¸Šä¼ æ–‡ä»¶

3. **åœ¨ç»ˆç«¯ä¸­æ„å»º**
   ```bash
   npm install -g cordova
   cordova platform add android
   cordova build android
   ```

4. **ä¸‹è½½ APK**

---

## ğŸ“Š æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | éš¾åº¦ | å…è´¹ | é€Ÿåº¦ | æ¨èåº¦ |
|------|------|------|------|--------|
| Ionic Appflow | â­â­ | æœ‰é™é¢åº¦ | å¿« | â­â­â­â­â­ |
| GitHub Actions | â­â­â­ | âœ… å®Œå…¨å…è´¹ | å¿« | â­â­â­â­â­ |
| Gitpod | â­â­â­ | æœ‰é™æ—¶é•¿ | ä¸­ç­‰ | â­â­â­â­ |
| Docker æœ¬åœ° | â­â­â­â­ | âœ… å…è´¹ | å¿« | â­â­â­ |
| CodeSandbox | â­â­ | æœ‰é™åˆ¶ | æ…¢ | â­â­â­ |

---

## ğŸ¯ æœ€æ¨èçš„æ–¹æ¡ˆ

### å¦‚æœä½ æœ‰ GitHub è´¦å·
â†’ **ä½¿ç”¨ GitHub Actions**ï¼ˆå®Œå…¨å…è´¹ï¼Œè‡ªåŠ¨åŒ–ï¼‰

### å¦‚æœä½ æƒ³æœ€ç®€å•
â†’ **ä½¿ç”¨ Ionic Appflow**ï¼ˆç•Œé¢å‹å¥½ï¼Œæ“ä½œç®€å•ï¼‰

### å¦‚æœä½ æƒ³å­¦ä¹ 
â†’ **ä½¿ç”¨æœ¬åœ°æ„å»º**ï¼ˆå‚è€ƒæœ¬åœ°æ„å»ºAPKæŒ‡å—.mdï¼‰

---

## ğŸ’¡ å¿«é€Ÿå†³ç­–

**æˆ‘æ¨èä½ ä½¿ç”¨ GitHub Actionsï¼**

åŸå› ï¼š
1. âœ… å®Œå…¨å…è´¹
2. âœ… ä¸éœ€è¦ä¿¡ç”¨å¡
3. âœ… æ„å»ºç¨³å®š
4. âœ… è‡ªåŠ¨åŒ–
5. âœ… å­¦ä¹ ä»·å€¼é«˜

ä¸‹ä¸€èŠ‚æˆ‘ä¼šæä¾›è¯¦ç»†çš„ GitHub Actions é…ç½®ã€‚

---

## ğŸš€ ç«‹å³å¼€å§‹

é€‰æ‹©æœ€é€‚åˆä½ çš„æ–¹æ¡ˆï¼š

1. **æœ‰ GitHub è´¦å·** â†’ GitHub Actions
2. **æƒ³è¦å›¾å½¢ç•Œé¢** â†’ Ionic Appflow
3. **æƒ³è¦å®Œå…¨æ§åˆ¶** â†’ æœ¬åœ°æ„å»º

æ¯ä¸ªæ–¹æ¡ˆéƒ½æœ‰è¯¦ç»†æ­¥éª¤ï¼Œé€‰ä¸€ä¸ªå¼€å§‹å§ï¼
